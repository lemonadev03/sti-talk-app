@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dark-first palette inspired by IBM Blue, tuned darker */
    /* Brand tokens (HSL parts) */
    --brand-strong: 219 70% 48%; /* further desaturated */
    --brand-soft: 220 60% 62%;   /* softened more */
    --brand-deep: 219 68% 32%;   /* deeper, less intense */

    /* Surface & content */
    --background: 220 35% 7%;
    --foreground: 210 40% 96%;

    --card: 220 35% 9%;
    --card-foreground: 210 40% 96%;

    --popover: 220 35% 9%;
    --popover-foreground: 210 40% 96%;

    /* Primary uses brand strong */
    --primary: var(--brand-strong);
    --primary-foreground: 220 30% 10%;

    /* Secondary/muted/accent are darker surfaces */
    --secondary: 220 35% 14%;
    --secondary-foreground: 210 40% 96%;

    --muted: 220 25% 16%;
    --muted-foreground: 210 20% 72%;

    --accent: 220 40% 18%;
    --accent-foreground: 210 40% 96%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 25% 18%;
    --input: 220 25% 18%;
    --ring: var(--brand-strong);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: "IBM Plex Sans", sans-serif;
  }

  /* Smooth scrolling for inertia effects */
  html {
    scroll-behavior: smooth;
  }

  /* Prevent horizontal scrollbars from layout shifts */
  html, body {
    overflow-x: hidden;
  }

  /* Non-persistent overlay scrollbar: hidden by default, shown while scrolling */
  /* Firefox */
  html {
    scrollbar-width: none; /* hide by default */
  }
  html.scrolling {
    scrollbar-width: thin; /* show while scrolling */
  }
  @media (hover: hover) {
    html:hover {
      scrollbar-width: thin; /* show on hover (desktop) */
    }
  }

  /* WebKit-based browsers */
  /* Hidden by default */
  ::-webkit-scrollbar {
    width: 0px;
    height: 0px;
  }
  /* Show while scrolling */
  html.scrolling::-webkit-scrollbar,
  html.scrolling ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  @media (hover: hover) {
    html:hover::-webkit-scrollbar,
    html:hover ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--brand-strong) / 0.3);
    border-radius: 4px;
  }
  html.scrolling ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--brand-strong) / 0.5);
  }
}

/* IBM font utility classes */
.font-ibm {
  font-family: "IBM Plex Sans", sans-serif;
}

/* Outfit font for friendly headers */
.font-outfit {
  font-family: var(--font-outfit), sans-serif;
}
